# 编译器插件
> **警告**：插件是高级的不稳定的功能！对于很多细节，唯一的文档是[libsyntax](http://doc.rust-lang.org/syntax/)和[librustc](http://doc.rust-lang.org/rustc/)的API文档，甚至只有源码本身。这些编译器内部API也可能在任何时候被改变。

> 为了定义新语法使用Rust[内建的宏系统](http://doc.rust-lang.org/book/macros.html)会更方便。

> 本文档中使用的语言功能没有被本教程涉及到。查看[参考手册](http://doc.rust-lang.org/reference.html)来了解更多信息。

## 介绍
`rustc`可以加载编译器插件，它是由用户提供的库用来扩充编译器的行为，例如新的语法扩展，lint检查等。

一个插件是带有设计好的用来在`rustc`中注册扩展的*注册*（*registrar*）函数的一个动态库包装箱。其它包装箱可以使用`#![plugin(...)]`属性来装载这个扩展。查看[rustc::plugin](http://doc.rust-lang.org/rustc/plugin/)文档来获取更多关于定义和装载插件的机制。

如果属性存在的话，`#![plugin(foo(... args ...))]`传递的参数并不由`rustc`自身解释。它们被传递给插件的`Registry`[args方法](http://doc.rust-lang.org/rustc/plugin/registry/struct.Registry.html#method.args)。

在绝大多数情况中，一个插件应该*只*通过`#![plugin]`而不通过`extern crate`来使用。链接一个插件会将`libsyntax`和`librustc`加入到你的包装箱的依赖中。基本上你不会希望如此除非你在构建另一个插件。`plugin_as_library`lint会检查这些原则。


