# Hello, world!
现在你已经安装好了Rust，让我们开始写第一个Rust程序吧。在你学习任何新语言的时候，第一件事都应该是在屏幕上打印一个“Hello, world!”字符串，这已经成为了一个传统。在屏幕上打印字符串是一件非常简单的事情，这样做可以让你知道安装好的编译器能否正常工作。

第一件事是创建你的代码文件。笔者喜欢在 home 目录下创建一个 projects 文件夹，用来存放所有项目。无论你的代码位于哪里，Rust 都能正常编译它。

还有一件需要注意的事是，你需要有基本的命令行操作技能。无论代码放在哪里，或者你想使用任何编辑器来编辑 Rust 代码，都是没问题的。如果相比命令行，你更喜欢使用 IDE（集成开发环境），那么你可以试试[SolidOak](https://github.com/oakes/SolidOak)，或者在你最喜欢的 IDE 里安装相关插件。在 Rust 社区里有许许多多正在开发中的 IDE 插件。Rust 团队也发布了[不同编辑器的插件](https://github.com/rust-lang/rust/blob/master/src/etc/CONFIGS.md)。篇幅限制，我们不在这里讲如何配置你的编辑器或者 IDE 插件，你可以自己前往相关页面查看。

按我的习惯，我们在 projects 文件夹里新建一个目录：

```bash
$ mkdir ~/projects
$ cd ~/projects
$ mkdir hello_world
$ cd hello_world
```

如果你的操作系统为 Windows 并且没有用 PowerShell，`~`可能不指向你的用户目录。你可以查询你所使用的 Shell 的有关文档以获取更多信息。

接下来让我们新建一个代码文件，文件名为 `main.rs`。Rust 代码文件总是使用 `.rs` 后缀。Rust 代码文件名由多个单词组成，并且使用下划线分隔。例如，对于 Hello World 文件，我们用 `hello_world.rs` 而不是 `helloworld.rs`。

现在打开你的文件，键入如下代码：

```rust
fn main() {
    println!("Hello, world!");
}
```

保存文件，然后在命令行中输入如下命令：

```bash
$ rustc main.rs
$ ./main # 在 Windows 下是 main.exe
Hello, world!
```

搞定这些，让我们回过头来看看到底发生了什么

```rust
fn main() {

}
```

这几行定义了一个 Rust 函数。`main` 函数是特殊的：这是所有Rust程序的开始。第一行表示“我定义了一个叫 main 的函数，没有参数也没有返回值。”如果有参数的话，它们应该出现在括号`(`和`)`中。因为并没有返回值，所以完全可以省略返回类型。欲知详情，请见后文分解。

你会注意到函数被大括号（`{`和`}`）包围起来。Rust 中函数内容被包含在大括号中。在 Rust 中，前大括号应该和函数定义放在一排。

接下来是这一行：

```rust
println!("Hello, world!");
```

这一行做了我们这小程序的所有工作。这里有一些细节比较重要。第一，缩进是4个空格，而不是制表符（Tab）。请设置你的编辑器Tab键为插入4个空格。我们提供[多种编辑器的配置例子](https://github.com/rust-lang/rust/blob/master/src/etc/CONFIGS.md)。

第二点是`println!()`部分。这是一个Rust[宏](5.35.Macros 宏.md)，是Rust元编程的关键所在。如果你使用函数的话应该写成`println()`。在这里，我们并不用担心这两者的区别。只需记住，有时你会看到一个`!`，那代表你调用了一个宏而不是一个普通的函数。有很多理由使得Rust实现了`println!`宏而不只是一个函数，不过这涉及一些非常高端的话题。你会在我们谈论宏的时候了解更多。最后提醒一点：Rust宏与C语言的宏有显著区别，万一你用过C语言宏的话。使用宏时请不要恐惧。我们最终会仔细研究它，现在你只需相信我们。

下一部分，`"Hello, world!"`是一个字符串。在一门系统编程语言中，字符串是一个复杂得令人惊讶的话题。这是一个静态分配的字符串。我们将在后面讨论更多不同的分配方式。我们把这个字符串作为参数传递给`println!`，而它负责在屏幕上打印字符串。就这么简单！

最后，这一行以一个分号结尾（`;`）。Rust是一门*面向表达式*（expression oriented）的语言，也就是说大部分语句都是表达式。`;`用来表示一个表达式的结束，另一个新表达式的开始。大部分Rust代码行以`;`结尾。

最后，让我们实际编译和运行我们的程序。我们可以使用编译器`rustc`，用我们的源文件名作为参数：

```bash
$ rustc main.rs
```

这跟 `gcc` 或 `clang` 类似，如果你有C或C++知识背景。Rust会输出一个可执行文件。你可以用`ls`查看它：

```bash
$ ls
main  main.rs
```

或者在Windows下：

```bash
$ dir
main.exe  main.rs
```

现在这里有两个文件：我们`.rs`后缀的源文件，和可执行文件（在Windows下为`main.exe`，其它平台是`main`）。

```bash
$ ./main  # 或者 main.exe 在Windows下
```

这将在终端上打印出`Hello, world!`。

对于来自像Ruby，Python或者JavaScript这样的动态类型语言的同学，可能不太习惯这样将编译和执行分开的行为。Rust是一门*预编译语言*（*ahead-of-time compiled language*），这意味着你可以编译一个程序，把它给任何人，他们都不需要安装Rust就可运行。如果你给他们一个`.rb`，`.py`或`.js`文件，他们需要先安装 Ruby/Python/JavaScript，不过你只需要一句命令就可以编译和执行你的程序。这一切都是语言设计的权衡取舍，而Rust已经做出了它的选择。

祝贺你！你已经正式完成了一个 Rust 程序。你现在是一名 Rust 程序员了！欢迎入坑←_←

接下来，我将向你介绍另外一个工具，Cargo，它用来编写真实世界的Rust程序。仅仅使用 `rustc` 可以很好应对简单的程序，但是当你的项目不断增长，你将会需要一个工具帮助你管理所有可能的选项，帮助你更加容易的与别人和别的项目分享代码。
